jQuery(function($){function e(){return l&&$(window).width()>ultra_resp_menu_params.collapse||!l?($(".site-header").on("mouseenter",".main-navigation ul li",function(){var e=$(this),t=e.find("> ul");t.css({display:"block",opacity:0}).clearQueue().animate({opacity:1},250),t.data("final-opacity",1)}).on("mouseleave",".main-navigation ul li",function(){var e=$(this),t=e.find("> ul");t.clearQueue().animate({opacity:0},250,function(){0==t.data("final-opacity")&&t.css("display","none")}),t.data("final-opacity",0)}),!1):($(".site-header").off("mouseenter mouseleave").on("mouseenter mouseleave"),void $(".sub-menu").removeAttr("style"))}function t(){var e=jQuery(window).scrollTop();if(d&&isAdminBar)if(c)var t=adminBarHeight+76;else var t=adminBarHeight+$("header").height();else if(d)if(c)var t=76;else var t=$("header").height();else var t=0;var a="no";jQuery(".panel-grid").each(function(){var i="#"+jQuery(this).attr("id"),n=jQuery(this).offset().top,s=jQuery(this).outerHeight(),r=n-t,o=n+s-t;return e>=r&&o>=e?(jQuery("#site-navigation .current").removeClass("current"),jQuery('#site-navigation a[href$="'+i+'"]').parent("li").addClass("current"),!1):void("no"==a&&jQuery("#site-navigation .current").removeClass("current"))})}function a(e,t){return{_selector:e,_breakpointWidth:t,_duration:500,_firstRun:!0,_forceToShow:!1,_animating:!1,_currentState:"",_startingState:"",_eventCb:{stateStart:!1,stateEnd:!1},_get:function(){return $(this._selector)},_getState:function(){return window.innerWidth>=this._breakpointWidth?"show":this._forceToShow?"force":"hide"},_setNewState:function(e,t){this._currentState!=e&&(t?this._startingState!=e&&(this._startingState=e,this._eventCb.stateStart&&this._eventCb.stateStart(e)):(this._currentState=e,this._eventCb.stateEnd&&this._eventCb.stateEnd(e)))},_hide:function(e){var t=this._get(),a=this,i={"margin-top":-t.height()+"px"};this._setNewState("hide",!0),e?(this._animating=!0,t.animate(i,{duration:this._duration,step:function(e,t){-a._get().height()!=t.end&&(t.end=-a._get().height())},done:function(){a._animating=!1,a._setNewState("hide"),a.adjust()}})):(t.css(i),this._setNewState("hide"))},_show:function(e){var t={"margin-top":"0px"},a=this,i=this._getState();this._setNewState(i,!0),e?(this._animating=!0,this._get().animate(t,{duration:this._duration,step:function(e,t){var i=-a._get().height();i!=t.start&&(t.start=i)},done:function(){a._animating=!1,a._setNewState(i),a.adjust()}})):(this._get().css(t),this._setNewState(i))},toggle:function(){switch(this._currentState){case"force":this._forceToShow=!1;break;case"hide":this._forceToShow=!0}this.adjust()},adjust:function(){if(this._animating)return this;if(this._firstRun){switch(this._getState()){case"hide":this._hide();break;default:this._show()}this._firstRun=!1}else{var e=this._getState();switch(e){case"hide":"hide"==this._currentState?this._hide():this._hide(!0);break;default:"hide"==this._currentState?this._show(!0):this._currentState!=e&&this._show()}}return this},getCurrentState:function(){return this._currentState},on:function(e,t){switch(e){case"statestart":this._eventCb.stateStart=t;break;case"stateend":this._eventCb.stateEnd=t;break;default:throw"unknown event: "+e}return this}}}"undefined"!=typeof $.fn.fitVids&&$(".entry-content, .entry-content .panel, .woocommerce #main").fitVids({ignore:".tableauViz"});var i=$(".main-navigation .mega-menu-wrap").length;i||($(window).load(e),$(window).resize(e)),jQuery(document).ready(function($){window.location.hash||($('#site-navigation a[href="'+window.location.href+'"]').parent("li").addClass("current-menu-item"),$(window).scroll(function(){$("#site-navigation ul li").hasClass("current")&&$("#site-navigation li").removeClass("current-menu-item")}))});var n=!1;$(document).click(function(){n||$(".main-navigation .menu-search .search-form").fadeOut(250)}),$(document).on("click",".search-icon",function(){var e=$(this).parent();e.find("form").fadeToggle(250),setTimeout(function(){e.find("input[name=s]").focus()},300)}),$(document).on("mouseenter",".search-icon",function(){n=!0}).on("mouseleave",".search-icon",function(){n=!1}),$(".entry-content .flexslider:not(.metaslider .flexslider), #metaslider-demo.flexslider").flexslider({namespace:"flex-ultra-"}),$('body.full #main-slider[data-stretch="true"]').each(function(){var e=$(this);e.find(">div").css("max-width","100%"),e.find(".slides li").each(function(){var e=$(this),t=e.find("img.ms-default-image").eq(0);t.length||(t=e.find("img").eq(0)),e.css("background-image","url("+t.attr("src")+")"),t.css("visibility","hidden"),e.wrapInner('<div class="container"></div>');var a=e.find("a");a.length&&(e.mouseover(function(){e.css("cursor","hand")}),e.mouseout(function(){e.css("cursor","pointer")}),e.click(function(e){e.preventDefault();var t=$(e.target),i=t.is("a")?t:a;window.open(i.attr("href"),i.attr("target"))}))})});var s=window.devicePixelRatio?window.devicePixelRatio:1;s>1&&$("img[data-retina-image]").each(function(){var e=$(this);e.attr("src",e.data("retina-image")),"undefined"==typeof e.attr("width")&&e.load(function(){var t=[e.width(),e.height()];e.width(t[0]/2),e.height(t[1]/2)})});var r=$("body").hasClass("ultra-mobile-device"),o=$("body").hasClass("mobile-scroll-top");(!r&&$("#scroll-to-top").hasClass("scroll-to-top")||r&&o)&&($(window).scroll(function(){$(window).scrollTop()>150?$("#scroll-to-top").addClass("displayed"):$("#scroll-to-top").removeClass("displayed")}),$("#scroll-to-top").click(function(){return $("html, body").animate({scrollTop:"0px"}),!1}));var c=$("header").hasClass("scale"),r=$("body").hasClass("ultra-mobile-device"),h=$("body").hasClass("mobile-sticky-header"),l=$("header").hasClass("responsive-menu"),d=$("header").hasClass("sticky-header");isAdminBar=$("body").hasClass("admin-bar"),adminBarHeight=$("#wpadminbar").outerHeight(),(d&&!r||d&&r&&h)&&($(".site-header").hcSticky({responsive:!1,className:"is-stuck"}),c&&$(window).scroll(function(){$(this).scrollTop()>150?$(".site-header").addClass("scaled"):$(".site-header").removeClass("scaled")})),ultra_smooth_scroll_params.value&&(jQuery(document).ready(function(){jQuery('#site-navigation a[href*="#"]:not( [href="#"] ), .puro-scroll[href*="#"]:not( [href="#"] )').bind("click",function(){if(d&&isAdminBar)if(c)var e=adminBarHeight+72;else var e=adminBarHeight+$("header").height()-3;else if(d)if(c)var e=72;else var e=$("header").height()-3;else var e=0;var t=this.hash,a=t.substring(1),i=this;if($("header *").removeClass("toggled"),jQuery(".panel-grid [id*="+a+"]").length>0?(jQuery("#site-navigation .current").removeClass("current"),jQuery(i).parent("li").addClass("current")):jQuery("#site-navigation .current").removeClass("current"),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var n=jQuery(this.hash);if(n=n.length?n:jQuery("[name="+this.hash.slice(1)+"]"),n.length)return jQuery("html, body").animate({scrollTop:n.offset().top-e},1200),!1}}),$("html, body").animate({scrollTop:"0"})}),jQuery(window).load(function(){if(d&&isAdminBar)if(c)var e=adminBarHeight+72;else var e=adminBarHeight+$("header").height()-3;else if(d)if(c)var e=72;else var e=$("header").height()-3;else var e=0;if(location.pathname.replace(/^\//,"")==window.location.pathname.replace(/^\//,"")&&location.hostname==window.location.hostname){var t=jQuery(window.location.hash);if(t.length)return jQuery("html, body").animate({scrollTop:t.offset().top-e},1200),!1}})),jQuery(window).on("scroll",t);var u=$(".top-bar-navigation .mega-menu-wrap").length;u||$("#top-bar").on("mouseenter",".top-bar-navigation ul li",function(){var e=$(this),t=e.find("> ul");t.css({display:"block",opacity:0}).clearQueue().animate({opacity:1},250),t.data("final-opacity",1)}).on("mouseleave",".top-bar-navigation ul li",function(){var e=$(this),t=e.find("> ul");t.clearQueue().animate({opacity:0},250,function(){0==t.data("final-opacity")&&t.css("display","none")}),t.data("final-opacity",0)}),$("body").hasClass("resp")&&$("body").hasClass("resp-top-bar"),$("body").hasClass("resp")&&$("body").hasClass("resp-top-bar")&&$(document).ready(function(){$(".top-bar-arrow").css("display","none");var e=a("#top-bar .container",ultra_resp_top_bar_params.collapse).on("stateend",function(e){switch(e){case"force":$(".top-bar-arrow").removeClass("show").addClass("close");break;case"hide":$(".top-bar-arrow").removeClass("close").addClass("show");break;default:$(".top-bar-arrow").removeClass("show").removeClass("close")}}).on("statestart",function(e){switch(e){case"force":$(".top-bar-arrow").css("display","");break;case"hide":$(".top-bar-arrow").css("display","");break;default:$(".top-bar-arrow").css("display","none")}}).adjust();window.onresize=function(){e.adjust()},$(".top-bar-arrow").on("click",function(){e.toggle()})}),("ontouchstart"in document.documentElement||window.navigator.msMaxTouchPoints||window.navigator.MaxTouchPoints)&&$("body").removeClass("no-touch"),$("body").hasClass("no-touch")||(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&$("body").css("cursor","pointer"),$(".site-navigation").find(".menu-item-has-children > a").each(function(){$(this).click(function(e){var t=$(this);e.stopPropagation(),t.parent().addClass("touch-drop"),t.hasClass("hover")?t.unbind("click"):(t.addClass("hover"),e.preventDefault()),$(".site-navigation > .menu-item-has-children:not(.touch-drop) > a").click(function(){t.removeClass("hover").parent().removeClass("touch-drop")}),$(document).click(function(){t.removeClass("hover").parent().removeClass("touch-drop")})})}))});